{"version":3,"file":"index.production.js","sources":["../../../virtual-core/build/lib/_virtual/_rollupPluginBabelHelpers.mjs","../../../virtual-core/build/lib/utils.mjs","../../../virtual-core/build/lib/index.mjs","../../src/index.tsx"],"sourcesContent":["/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nexport { _extends as extends };\n//# sourceMappingURL=_rollupPluginBabelHelpers.mjs.map\n","/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction memo(getDeps, fn, opts) {\n  var deps = [];\n  var result;\n  return function () {\n    var depTime;\n    if (opts.key && opts.debug != null && opts.debug()) depTime = Date.now();\n    var newDeps = getDeps();\n    var depsChanged = newDeps.length !== deps.length || newDeps.some(function (dep, index) {\n      return deps[index] !== dep;\n    });\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    var resultTime;\n    if (opts.key && opts.debug != null && opts.debug()) resultTime = Date.now();\n    result = fn.apply(void 0, newDeps);\n    opts == null ? void 0 : opts.onChange == null ? void 0 : opts.onChange(result);\n    if (opts.key && opts.debug != null && opts.debug()) {\n      var depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      var resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      var resultFpsPercentage = resultEndTime / 16;\n      var pad = function pad(str, num) {\n        str = String(str);\n        while (str.length < num) {\n          str = ' ' + str;\n        }\n        return str;\n      };\n      console.info(\"%c\\u23F1 \" + pad(resultEndTime, 5) + \" /\" + pad(depEndTime, 5) + \" ms\", \"\\n            font-size: .6rem;\\n            font-weight: bold;\\n            color: hsl(\" + Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120)) + \"deg 100% 31%);\", opts == null ? void 0 : opts.key);\n    }\n    return result;\n  };\n}\n\nexport { memo };\n//# sourceMappingURL=utils.mjs.map\n","/**\n * virtual-core\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport { extends as _extends } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { memo } from './utils.mjs';\nexport { memo } from './utils.mjs';\n\n//\n\n//\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.startIndex - range.overscan, 0);\n  var end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  var arr = [];\n  for (var _i = start; _i <= end; _i++) {\n    arr.push(_i);\n  }\n  return arr;\n};\nvar memoRectCallback = function memoRectCallback(instance, cb) {\n  var prev = {\n    height: -1,\n    width: -1\n  };\n  return function (rect) {\n    if (instance.options.horizontal ? rect.width !== prev.width : rect.height !== prev.height) {\n      cb(rect);\n    }\n    prev = rect;\n  };\n};\nvar observeElementRect = function observeElementRect(instance, cb) {\n  var observer = new ResizeObserver(function (entries) {\n    var _entries$, _entries$2;\n    cb({\n      width: (_entries$ = entries[0]) == null ? void 0 : _entries$.contentRect.width,\n      height: (_entries$2 = entries[0]) == null ? void 0 : _entries$2.contentRect.height\n    });\n  });\n  if (!instance.scrollElement) {\n    return;\n  }\n  cb(instance.scrollElement.getBoundingClientRect());\n  observer.observe(instance.scrollElement);\n  return function () {\n    observer.unobserve(instance.scrollElement);\n  };\n};\nvar observeWindowRect = function observeWindowRect(instance, cb) {\n  var memoizedCallback = memoRectCallback(instance, cb);\n  var onResize = function onResize() {\n    return memoizedCallback({\n      width: instance.scrollElement.innerWidth,\n      height: instance.scrollElement.innerHeight\n    });\n  };\n  if (!instance.scrollElement) {\n    return;\n  }\n  onResize();\n  instance.scrollElement.addEventListener('resize', onResize, {\n    capture: false,\n    passive: true\n  });\n  return function () {\n    instance.scrollElement.removeEventListener('resize', onResize);\n  };\n};\nvar scrollProps = {\n  element: ['scrollLeft', 'scrollTop'],\n  window: ['scrollX', 'scrollY']\n};\nvar createOffsetObserver = function createOffsetObserver(mode) {\n  return function (instance, cb) {\n    if (!instance.scrollElement) {\n      return;\n    }\n    var propX = scrollProps[mode][0];\n    var propY = scrollProps[mode][1];\n    var prevX = instance.scrollElement[propX];\n    var prevY = instance.scrollElement[propY];\n    var scroll = function scroll() {\n      var offset = instance.scrollElement[instance.options.horizontal ? propX : propY];\n      cb(Math.max(0, offset - instance.options.scrollMargin));\n    };\n    scroll();\n    var onScroll = function onScroll(e) {\n      var target = e.currentTarget;\n      var scrollX = target[propX];\n      var scrollY = target[propY];\n      if (instance.options.horizontal ? prevX - scrollX : prevY - scrollY) {\n        scroll();\n      }\n      prevX = scrollX;\n      prevY = scrollY;\n    };\n    instance.scrollElement.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      instance.scrollElement.removeEventListener('scroll', onScroll);\n    };\n  };\n};\nvar observeElementOffset = createOffsetObserver('element');\nvar observeWindowOffset = createOffsetObserver('window');\nvar measureElement = function measureElement(element, instance) {\n  return Math.round(element.getBoundingClientRect()[instance.options.horizontal ? 'width' : 'height']);\n};\nvar windowScroll = function windowScroll(offset, _ref, instance) {\n  var _instance$scrollEleme, _instance$scrollEleme2;\n  var adjustments = _ref.adjustments,\n    behavior = _ref.behavior,\n    sync = _ref.sync;\n  var toOffset = (sync ? offset : offset + instance.options.scrollMargin) + (adjustments != null ? adjustments : 0);\n  (_instance$scrollEleme = instance.scrollElement) == null ? void 0 : _instance$scrollEleme.scrollTo == null ? void 0 : _instance$scrollEleme.scrollTo((_instance$scrollEleme2 = {}, _instance$scrollEleme2[instance.options.horizontal ? 'left' : 'top'] = toOffset, _instance$scrollEleme2.behavior = behavior, _instance$scrollEleme2));\n};\nvar elementScroll = function elementScroll(offset, _ref2, instance) {\n  var _instance$scrollEleme3, _instance$scrollEleme4;\n  var adjustments = _ref2.adjustments,\n    behavior = _ref2.behavior,\n    sync = _ref2.sync;\n  var toOffset = (sync ? offset : offset + instance.options.scrollMargin) + (adjustments != null ? adjustments : 0);\n  (_instance$scrollEleme3 = instance.scrollElement) == null ? void 0 : _instance$scrollEleme3.scrollTo == null ? void 0 : _instance$scrollEleme3.scrollTo((_instance$scrollEleme4 = {}, _instance$scrollEleme4[instance.options.horizontal ? 'left' : 'top'] = toOffset, _instance$scrollEleme4.behavior = behavior, _instance$scrollEleme4));\n};\nvar Virtualizer = function Virtualizer(_opts) {\n  var _this = this;\n  this.unsubs = [];\n  this.scrollElement = null;\n  this.isScrolling = false;\n  this.isScrollingTimeoutId = null;\n  this.measurementsCache = [];\n  this.itemMeasurementsCache = {};\n  this.pendingMeasuredCacheIndexes = [];\n  this.scrollAdjustments = 0;\n  this.measureElementCache = {};\n  this.pendingScrollToIndexCallback = null;\n  this.getResizeObserver = function () {\n    var _ro = null;\n    return function () {\n      if (_ro) {\n        return _ro;\n      } else if (typeof ResizeObserver !== 'undefined') {\n        return _ro = new ResizeObserver(function (entries) {\n          entries.forEach(function (entry) {\n            _this._measureElement(entry.target, false);\n          });\n        });\n      } else {\n        return null;\n      }\n    };\n  }();\n  this.range = {\n    startIndex: 0,\n    endIndex: 0\n  };\n  this.setOptions = function (opts) {\n    Object.entries(opts).forEach(function (_ref3) {\n      var key = _ref3[0],\n        value = _ref3[1];\n      if (typeof value === 'undefined') delete opts[key];\n    });\n    _this.options = _extends({\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: function onChange() {},\n      measureElement: measureElement,\n      initialRect: {\n        width: 0,\n        height: 0\n      },\n      scrollMargin: 0,\n      scrollingDelay: 150,\n      indexAttribute: 'data-index'\n    }, opts);\n  };\n  this.notify = function () {\n    _this.options.onChange == null ? void 0 : _this.options.onChange(_this);\n  };\n  this.cleanup = function () {\n    _this.unsubs.filter(Boolean).forEach(function (d) {\n      return d();\n    });\n    _this.unsubs = [];\n    _this.scrollElement = null;\n  };\n  this._didMount = function () {\n    var ro = _this.getResizeObserver();\n    Object.values(_this.measureElementCache).forEach(function (node) {\n      return ro == null ? void 0 : ro.observe(node);\n    });\n    return function () {\n      ro == null ? void 0 : ro.disconnect();\n      _this.cleanup();\n    };\n  };\n  this._willUpdate = function () {\n    _this.pendingScrollToIndexCallback == null ? void 0 : _this.pendingScrollToIndexCallback();\n    var scrollElement = _this.options.getScrollElement();\n    if (_this.scrollElement !== scrollElement) {\n      _this.cleanup();\n      _this.scrollElement = scrollElement;\n      _this._scrollToOffset(_this.scrollOffset, {\n        adjustments: undefined,\n        behavior: undefined,\n        sync: true\n      });\n      _this.unsubs.push(_this.options.observeElementRect(_this, function (rect) {\n        _this.scrollRect = rect;\n        _this.calculateRange();\n      }));\n      _this.unsubs.push(_this.options.observeElementOffset(_this, function (offset) {\n        if (_this.isScrollingTimeoutId !== null) {\n          clearTimeout(_this.isScrollingTimeoutId);\n          _this.isScrollingTimeoutId = null;\n        }\n        var onIsScrollingChange = function onIsScrollingChange(isScrolling) {\n          if (_this.isScrolling !== isScrolling) {\n            _this.isScrolling = isScrolling;\n            _this.notify();\n          }\n        };\n        _this.scrollAdjustments = 0;\n        if (_this.scrollOffset !== offset) {\n          _this.scrollOffset = offset;\n          onIsScrollingChange(true);\n        }\n        _this.calculateRange();\n        _this.isScrollingTimeoutId = setTimeout(function () {\n          _this.isScrollingTimeoutId = null;\n          onIsScrollingChange(false);\n        }, _this.options.scrollingDelay);\n      }));\n    } else if (!_this.isScrolling) {\n      _this.calculateRange();\n    }\n  };\n  this.getSize = function () {\n    return _this.scrollRect[_this.options.horizontal ? 'width' : 'height'];\n  };\n  this.getMeasurements = memo(function () {\n    return [_this.options.count, _this.options.paddingStart, _this.options.getItemKey, _this.itemMeasurementsCache];\n  }, function (count, paddingStart, getItemKey, measurementsCache) {\n    var min = _this.pendingMeasuredCacheIndexes.length > 0 ? Math.min.apply(Math, _this.pendingMeasuredCacheIndexes) : 0;\n    _this.pendingMeasuredCacheIndexes = [];\n    var measurements = _this.measurementsCache.slice(0, min);\n    for (var _i2 = min; _i2 < count; _i2++) {\n      var key = getItemKey(_i2);\n      var measuredSize = measurementsCache[key];\n      var start = measurements[_i2 - 1] ? measurements[_i2 - 1].end : paddingStart;\n      var size = typeof measuredSize === 'number' ? measuredSize : _this.options.estimateSize(_i2);\n      var end = start + size;\n      measurements[_i2] = {\n        index: _i2,\n        start: start,\n        size: size,\n        end: end,\n        key: key\n      };\n    }\n    _this.measurementsCache = measurements;\n    return measurements;\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.calculateRange = memo(function () {\n    return [_this.getMeasurements(), _this.getSize(), _this.scrollOffset];\n  }, function (measurements, outerSize, scrollOffset) {\n    var range = calculateRange({\n      measurements: measurements,\n      outerSize: outerSize,\n      scrollOffset: scrollOffset\n    });\n    if (range.startIndex !== _this.range.startIndex || range.endIndex !== _this.range.endIndex) {\n      _this.range = range;\n      _this.notify();\n    }\n    return _this.range;\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.getIndexes = memo(function () {\n    return [_this.options.rangeExtractor, _this.range, _this.options.overscan, _this.options.count];\n  }, function (rangeExtractor, range, overscan, count) {\n    return rangeExtractor(_extends({}, range, {\n      overscan: overscan,\n      count: count\n    }));\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.indexFromElement = function (node) {\n    var attributeName = _this.options.indexAttribute;\n    var indexStr = node.getAttribute(attributeName);\n    if (!indexStr) {\n      console.warn(\"Missing attribute name '\" + attributeName + \"={index}' on measured element.\");\n      return -1;\n    }\n    return parseInt(indexStr, 10);\n  };\n  this._measureElement = function (node, _sync) {\n    var _this$itemMeasurement;\n    var index = _this.indexFromElement(node);\n    var item = _this.measurementsCache[index];\n    if (!item) {\n      return;\n    }\n    var prevNode = _this.measureElementCache[item.key];\n    var ro = _this.getResizeObserver();\n    if (!node.isConnected) {\n      if (prevNode) {\n        ro == null ? void 0 : ro.unobserve(prevNode);\n        delete _this.measureElementCache[item.key];\n      }\n      return;\n    }\n    if (!prevNode || prevNode !== node) {\n      if (prevNode) {\n        ro == null ? void 0 : ro.unobserve(prevNode);\n      }\n      _this.measureElementCache[item.key] = node;\n      ro == null ? void 0 : ro.observe(node);\n    }\n    var measuredItemSize = _this.options.measureElement(node, _this);\n    var itemSize = (_this$itemMeasurement = _this.itemMeasurementsCache[item.key]) != null ? _this$itemMeasurement : item.size;\n    var delta = measuredItemSize - itemSize;\n    if (delta !== 0) {\n      var _extends2;\n      if (item.start < _this.scrollOffset && _this.isScrolling) {\n        if (process.env.NODE_ENV !== 'production' && _this.options.debug) {\n          console.info('correction', delta);\n        }\n        _this._scrollToOffset(_this.scrollOffset, {\n          adjustments: _this.scrollAdjustments += delta,\n          behavior: undefined,\n          sync: false\n        });\n      }\n      _this.pendingMeasuredCacheIndexes.push(index);\n      _this.itemMeasurementsCache = _extends({}, _this.itemMeasurementsCache, (_extends2 = {}, _extends2[item.key] = measuredItemSize, _extends2));\n      _this.notify();\n    }\n  };\n  this.measureElement = function (node) {\n    if (!node) {\n      return;\n    }\n    _this._measureElement(node, true);\n  };\n  this.getVirtualItems = memo(function () {\n    return [_this.getIndexes(), _this.getMeasurements()];\n  }, function (indexes, measurements) {\n    var virtualItems = [];\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      var _i3 = indexes[k];\n      var measurement = measurements[_i3];\n      virtualItems.push(measurement);\n    }\n    return virtualItems;\n  }, {\n    key: process.env.NODE_ENV !== 'production' && 'getIndexes',\n    debug: function debug() {\n      return _this.options.debug;\n    }\n  });\n  this.getOffsetForAlignment = function (toOffset, align) {\n    var offset = _this.scrollOffset;\n    var size = _this.getSize();\n    if (align === 'auto') {\n      if (toOffset <= offset) {\n        align = 'start';\n      } else if (toOffset >= offset + size) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n    if (align === 'start') {\n      return toOffset;\n    } else if (align === 'end') {\n      return toOffset - size;\n    } else if (align === 'center') {\n      return toOffset - size / 2;\n    }\n    return toOffset;\n  };\n  this.scrollToOffset = function (toOffset, _temp) {\n    var _ref4 = _temp === void 0 ? {} : _temp,\n      _ref4$align = _ref4.align,\n      align = _ref4$align === void 0 ? 'start' : _ref4$align,\n      behavior = _ref4.behavior;\n    var options = {\n      adjustments: undefined,\n      behavior: behavior,\n      sync: false\n    };\n    _this._scrollToOffset(_this.getOffsetForAlignment(toOffset, align), options);\n  };\n  this.scrollToIndex = function (index, _temp2) {\n    var _ref5 = _temp2 === void 0 ? {} : _temp2,\n      _ref5$align = _ref5.align,\n      align = _ref5$align === void 0 ? 'auto' : _ref5$align,\n      behavior = _ref5.behavior;\n    _this.pendingScrollToIndexCallback = null;\n    var offset = _this.scrollOffset;\n    var size = _this.getSize();\n    var count = _this.options.count;\n    var measurements = _this.getMeasurements();\n    var measurement = measurements[Math.max(0, Math.min(index, count - 1))];\n    if (!measurement) {\n      throw new Error(\"VirtualItem not found for index = \" + index);\n    }\n    if (align === 'auto') {\n      if (measurement.end >= offset + size - _this.options.scrollPaddingEnd) {\n        align = 'end';\n      } else if (measurement.start <= offset + _this.options.scrollPaddingStart) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n    var getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(measurement) {\n      var toOffset = align === 'end' ? measurement.end + _this.options.scrollPaddingEnd : measurement.start - _this.options.scrollPaddingStart;\n      return _this.getOffsetForAlignment(toOffset, align);\n    };\n    var toOffset = getOffsetForIndexAndAlignment(measurement);\n    if (toOffset === offset) {\n      return;\n    }\n    var options = {\n      adjustments: undefined,\n      behavior: behavior,\n      sync: false\n    };\n    _this._scrollToOffset(toOffset, options);\n    var isDynamic = Object.keys(_this.measureElementCache).length > 0;\n    if (isDynamic) {\n      _this.pendingScrollToIndexCallback = function () {\n        _this.scrollToIndex(index, {\n          align: align,\n          behavior: behavior\n        });\n      };\n    }\n  };\n  this.scrollBy = function (adjustments, options) {\n    _this._scrollToOffset(_this.scrollOffset, {\n      adjustments: adjustments,\n      behavior: options == null ? void 0 : options.behavior,\n      sync: false\n    });\n  };\n  this.getTotalSize = function () {\n    var _this$getMeasurements;\n    return (((_this$getMeasurements = _this.getMeasurements()[_this.options.count - 1]) == null ? void 0 : _this$getMeasurements.end) || _this.options.paddingStart) + _this.options.paddingEnd;\n  };\n  this._scrollToOffset = function (offset, _ref6) {\n    var adjustments = _ref6.adjustments,\n      behavior = _ref6.behavior,\n      sync = _ref6.sync;\n    _this.options.scrollToFn(offset, {\n      behavior: behavior,\n      sync: sync,\n      adjustments: adjustments\n    }, _this);\n  };\n  this.measure = function () {\n    _this.itemMeasurementsCache = {};\n    _this.notify();\n  };\n  this.setOptions(_opts);\n  this.scrollRect = this.options.initialRect;\n  this.scrollOffset = this.options.initialOffset;\n  this.calculateRange();\n};\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange(_ref7) {\n  var measurements = _ref7.measurements,\n    outerSize = _ref7.outerSize,\n    scrollOffset = _ref7.scrollOffset;\n  var count = measurements.length - 1;\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n  var startIndex = findNearestBinarySearch(0, count, getOffset, scrollOffset);\n  var endIndex = startIndex;\n  while (endIndex < count && measurements[endIndex].end < scrollOffset + outerSize) {\n    endIndex++;\n  }\n  return {\n    startIndex: startIndex,\n    endIndex: endIndex\n  };\n}\n\nexport { Virtualizer, defaultKeyExtractor, defaultRangeExtractor, elementScroll, measureElement, observeElementOffset, observeElementRect, observeWindowOffset, observeWindowRect, windowScroll };\n//# sourceMappingURL=index.mjs.map\n","import * as React from 'react'\nimport {\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  PartialKeys,\n  Virtualizer,\n  VirtualizerOptions,\n  windowScroll,\n} from '@tanstack/virtual-core'\nexport * from '@tanstack/virtual-core'\n\n//\n\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>(\n  options: VirtualizerOptions<TScrollElement, TItemElement>,\n): Virtualizer<TScrollElement, TItemElement> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance) => {\n      rerender()\n      options.onChange?.(instance)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  React.useEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    VirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    VirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof window !== 'undefined' ? window : null!),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    ...options,\n  })\n}\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","memo","getDeps","fn","opts","result","deps","depTime","debug","Date","now","resultTime","newDeps","some","dep","index","onChange","depEndTime","Math","round","resultEndTime","resultFpsPercentage","pad","str","num","String","console","info","max","min","defaultKeyExtractor","defaultRangeExtractor","range","start","startIndex","overscan","end","endIndex","count","arr","_i","push","observeElementRect","instance","cb","observer","ResizeObserver","entries","_entries$","_entries$2","width","contentRect","height","scrollElement","getBoundingClientRect","observe","unobserve","observeWindowRect","memoizedCallback","prev","rect","options","horizontal","memoRectCallback","onResize","innerWidth","innerHeight","addEventListener","capture","passive","removeEventListener","scrollProps","element","window","createOffsetObserver","mode","propX","propY","prevX","prevY","scroll","offset","scrollMargin","onScroll","e","currentTarget","scrollX","scrollY","observeElementOffset","observeWindowOffset","measureElement","windowScroll","_ref","_instance$scrollEleme","_instance$scrollEleme2","adjustments","behavior","toOffset","sync","scrollTo","elementScroll","_ref2","_instance$scrollEleme3","_instance$scrollEleme4","Virtualizer","_opts","_ro","_this","unsubs","isScrolling","isScrollingTimeoutId","measurementsCache","itemMeasurementsCache","pendingMeasuredCacheIndexes","scrollAdjustments","measureElementCache","pendingScrollToIndexCallback","getResizeObserver","forEach","entry","_measureElement","setOptions","_ref3","initialOffset","paddingStart","paddingEnd","scrollPaddingStart","scrollPaddingEnd","getItemKey","rangeExtractor","initialRect","scrollingDelay","indexAttribute","notify","cleanup","filter","Boolean","d","_didMount","ro","values","node","disconnect","_willUpdate","getScrollElement","_scrollToOffset","scrollOffset","undefined","scrollRect","calculateRange","clearTimeout","onIsScrollingChange","setTimeout","getSize","getMeasurements","measurements","slice","_i2","measuredSize","size","estimateSize","outerSize","_ref7","low","high","getCurrentValue","value","middle","currentValue","findNearestBinarySearch","getIndexes","indexFromElement","attributeName","indexStr","getAttribute","parseInt","warn","_sync","_this$itemMeasurement","item","prevNode","isConnected","_extends2","measuredItemSize","delta","getVirtualItems","indexes","virtualItems","k","len","measurement","getOffsetForAlignment","align","scrollToOffset","_temp","_ref4","_ref4$align","scrollToIndex","_temp2","_ref5","_ref5$align","Error","getOffsetForIndexAndAlignment","keys","scrollBy","getTotalSize","_this$getMeasurements","_ref6","scrollToFn","measure","useIsomorphicLayoutEffect","React","useLayoutEffect","useEffect","useVirtualizerBase","rerender","useReducer","resolvedOptions","useState"],"mappings":"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"}